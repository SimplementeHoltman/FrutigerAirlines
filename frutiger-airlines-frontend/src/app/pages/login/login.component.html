<!-- Encabezado / Branding discreto -->
<div class="uk-section uk-section-muted uk-padding-remove-top">
  <div class="uk-container uk-container-small">
    <div class="uk-text-center uk-margin-large-top uk-margin-medium-bottom">
      <div class="app-brand uk-inline uk-text-bold">
        <span class="uk-text-lead" style="color: var(--color-secundario);">FrutigerAirlines</span>
        <div class="uk-text-meta">Accede o crea tu cuenta</div>
      </div>
    </div>

    <div class="uk-flex uk-flex-center uk-flex-middle uk-height-viewport-minus-top">
      <div class="uk-width-1-1 uk-padding uk-width-5-6@s uk-width-2-3@m uk-width-1-2@l">
        <div uk-grid class="uk-grid-match">

          <!-- Card: Login -->
          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default uk-card-body uk-box-shadow-medium uk-border-rounded app-card">
              <h3 class="uk-card-title uk-text-center">Iniciar sesión</h3>
              <form [formGroup]="loginForm" (ngSubmit)="onLogin()">

                <div class="uk-margin">
                  <div class="uk-inline uk-width-1-1">
                    <span class="uk-form-icon" uk-icon="icon: mail"></span>
                    <input class="uk-input" type="email" placeholder="Correo electrónico corporativo" formControlName="email" required>
                  </div>
                  <div *ngIf="loginForm.get('email')?.errors?.['server']" class="uk-text-danger uk-text-small uk-margin-top">
                    {{ loginForm.get('email')?.errors?.['server'] }}
                  </div>
                </div>

                <div class="uk-margin">
                  <div class="uk-inline uk-width-1-1">
                    <span class="uk-form-icon" uk-icon="icon: lock"></span>
                    <input class="uk-input" [type]="showLoginPassword ? 'text' : 'password'" placeholder="Ingrese su contraseña" formControlName="password" required>
                    <span class="uk-form-icon uk-form-icon-flip toggle-visibility" [attr.uk-icon]="'icon: eye'" (click)="showLoginPassword = !showLoginPassword"></span>
                  </div>
                  <div *ngIf="loginForm.get('password')?.errors?.['server']" class="uk-text-danger uk-text-small uk-margin-top">
                    {{ loginForm.get('password')?.errors?.['server'] }}
                  </div>
                </div>

                <div class="uk-margin">
                  <button class="uk-button uk-button-primary uk-width-1-1" type="submit" [disabled]="loginForm.invalid">
                    Iniciar sesión
                  </button>
                </div>

              </form>
            </div>
          </div>

          <!-- Card: Registro -->
          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default uk-card-body uk-box-shadow-medium uk-border-rounded app-card">
              <h3 class="uk-card-title uk-text-center">Registro</h3>
              <p class="uk-text-center uk-text-small uk-margin-remove-top">Solo correos @gmail.com y @outlook.com</p>
              <form [formGroup]="registerForm" (ngSubmit)="onRegister()">

                <div class="uk-margin">
                  <div class="uk-inline uk-width-1-1">
                    <span class="uk-form-icon" uk-icon="icon: user"></span>
                    <input class="uk-input" type="text" placeholder="Nombre completo" formControlName="nombreCompleto" required>
                  </div>
                  <div *ngIf="registerForm.get('nombreCompleto')?.touched && registerForm.get('nombreCompleto')?.hasError('required')" class="uk-text-danger uk-text-small uk-margin-top">
                    El nombre es obligatorio.
                  </div>
                  <div *ngIf="registerForm.get('nombreCompleto')?.errors?.['server']" class="uk-text-danger uk-text-small uk-margin-top">
                    {{ registerForm.get('nombreCompleto')?.errors?.['server'] }}
                  </div>
                </div>

                <div class="uk-margin">
                  <div class="uk-inline uk-width-1-1">
                    <span class="uk-form-icon" uk-icon="icon: mail"></span>
                    <input class="uk-input" type="email" placeholder="Correo electrónico" formControlName="email" required>
                  </div>
                  <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.hasError('required')" class="uk-text-danger uk-text-small uk-margin-top">
                    El email es obligatorio.
                  </div>
                  <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.hasError('email')" class="uk-text-danger uk-text-small uk-margin-top">
                    Formato de email inválido.
                  </div>
                  <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.hasError('pattern')" class="uk-text-danger uk-text-small uk-margin-top">
                    Solo se permiten correos @gmail.com o @outlook.com.
                  </div>
                  <div *ngIf="registerForm.get('email')?.errors?.['server']" class="uk-text-danger uk-text-small uk-margin-top">
                    {{ registerForm.get('email')?.errors?.['server'] }}
                  </div>
                </div>

                <div class="uk-margin">
                  <div class="uk-inline uk-width-1-1">
                    <span class="uk-form-icon" uk-icon="icon: lock"></span>
                    <input class="uk-input" [type]="showRegisterPassword ? 'text' : 'password'" placeholder="Ingrese su contraseña" formControlName="password" required>
                    <span class="uk-form-icon uk-form-icon-flip toggle-visibility" [attr.uk-icon]="'icon: eye'" (click)="showRegisterPassword = !showRegisterPassword"></span>
                  </div>
                  <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.hasError('required')" class="uk-text-danger uk-text-small uk-margin-top">
                    La contraseña es obligatoria.
                  </div>
                  <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.hasError('minlength')" class="uk-text-danger uk-text-small uk-margin-top">
                    La contraseña debe tener al menos 6 caracteres.
                  </div>
                  <div *ngIf="registerForm.get('password')?.errors?.['server']" class="uk-text-danger uk-text-small uk-margin-top">
                    {{ registerForm.get('password')?.errors?.['server'] }}
                  </div>
                </div>

                <div class="uk-margin">
                  <div class="uk-inline uk-width-1-1">
                    <span class="uk-form-icon" uk-icon="icon: lock"></span>
                    <input class="uk-input" [type]="showRegisterConfirmPassword ? 'text' : 'password'" placeholder="Confirme su contraseña" formControlName="confirmPassword" required>
                    <span class="uk-form-icon uk-form-icon-flip toggle-visibility" [attr.uk-icon]="'icon: eye'" (click)="showRegisterConfirmPassword = !showRegisterConfirmPassword"></span>
                  </div>
                  <div *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.hasError('required')" class="uk-text-danger uk-text-small uk-margin-top">
                    Debe confirmar la contraseña.
                  </div>
                  <div *ngIf="registerForm.touched && registerForm.hasError('passwordMismatch')" class="uk-text-danger uk-text-small uk-margin-top">
                    Las contraseñas no coinciden.
                  </div>
                </div>

                <div class="uk-margin">
                  <button class="uk-button uk-button-secondary uk-width-1-1" type="submit" [disabled]="registerForm.invalid">
                    Registrarme
                  </button>
                </div>

              </form>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>